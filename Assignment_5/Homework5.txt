CS/ECE 250: Homework 5 Due Tuesday November 19, 11:55pm This homework is to be done individually. Please submit a single PDF (or equivalently easy to read) document with your answers. 1. (15 pts) Cache Organization Consider a CPU that has a maximum of 4GB addressable main memory. This CPU has a Level 1 cache of 64K Bytes with 128 byte block size. For each of the following associativities: a. direct mapped b. 4way set associative c. fully associative Show the size of the tag, index and offset fields in a memory address, and compute the total number of bits used to implement each of the three cache configurations. 2. (5 pts) Describe the general characteristics of a program that exhibits very little temporal and very little spatial locality with regard to data accesses. Provide an example program (pseudocode is acceptable). 3. (5 pts) Describe the general characteristics of a program that exhibits high temporal locality but very little spatial locality with regard to data accesses. Provide an example program (pseudocode is acceptable).4. (15 pts) Average Memory Access Time Find the average memory access time (t_avg) for a machine with: a. A single level cache with a one cycle hit time, a 300 cycle miss penalty, a 5% miss rate, and a 2ns clock. b. A two level cache hierarchy with a two cycle L1 hit time, a 12 cycle L2 hit time, a 100 cycle L2 miss penalty, a 1ns clock, a 10% L1 miss rate, and a 1% L2 miss rate. c. A two level cache hierarchy with a one cycle L1 hit time, a 20 cycle L2 hit time, a 150 cycle L2 miss penalty, a 2ns clock, a 10% L1 miss rate, and a 1% L2 miss rate. 5. (40 pts) Cache Operation a. [10] Assume a 64 Byte directmapped cache with one word (4B) block size. Given the sequence of memory accesses (32bit addresses) below, where each reference is a word address, convert the address to binary, then identify the tag and index of each reference. Then label each reference as a hit or a miss and show the final contents of the cache. Assume the cache is initially empty. 1, 4, 8, 5, 20, 17, 19, 56, 9, 11, 4, 43, 5, 6, 9, 17. b. [15] Given the following 32bit addresses (as word addresses not byte addresses): 3, 180, 43, 2, 191, 88, 190, 14, 181, 44, 186, 253 Assume a three way setassociative cache with twoword blocks and a total size of 24 words. Use LRU replacement. For each reference show the binary address, identify the tag and index bits and label the reference as a hit or miss, show the final contents of the cache. c. [15] Assume the same sequence of addresses as 5b. Assume a fully associative cache with twoword blocks and a total size of 8 words. What is the miss rate if the replacement policy is LRU? What is the miss rate for MRU (most recently used)? What is the best possible miss rate for this cache given any replacement policy (the optimal policy)?6. (20 pts) Loop Interchange for Improved Cache Performance Given the following two nested loops, for a 1KB direct mapped cache with 16B blocks. a. [10] Calculate the miss ratio (misses/accesses) for each set of nested loops: for (i=0. i < 16. i++) for (j=0. j < 16. j++) sum = A[i][j]. for (j = 0. j < 16. j++) for (i =0. i < 16. i++) sum = A[i][j]. b. [5] Explain what happens to the miss ratio for each set of loops as the size of the arrays increases. c. [5] What cache associativity is needed to for both sets of loops to have the same miss ratio?